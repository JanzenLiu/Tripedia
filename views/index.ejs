<!DOCTYPE html>
<html lang="en">
<head>
<meta charset='UTF-8'/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title><%= title %> - Tripedia</title>
<link rel='stylesheet' href='/stylesheets/style.css'/>
<link rel='stylesheet' href='/stylesheets/theme.min.css'/>
<link rel='stylesheet' href='/stylesheets/homepage.css'/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="/scripts/bootstrap.min.js"></script>
<script>
$(document).ready(function () {
	var $item = $('#mainCarousel .item');
	var $wHeight = $(window).height();

	$item.height($wHeight);
	$('.header').height($wHeight);
	$item.addClass('full-screen');
	$("#search").outerWidth($("#searchbar_div").width() - $("#search_submit").outerWidth() - 10);

	var $currentSlide = Math.floor((Math.random() * $item.length));
	$('#mainCarousel .item > img').each(function() {
		var $src = $(this).attr('src');
		var $color = $(this).attr('data-color');
		$(this).parent().css({
			'background-image' : 'url(' + $src + ')',
			'background-color' : $color
		});
		$(this).parent().removeClass('active');
		$(this).remove();
	});
	$item.eq($currentSlide).addClass('active');
	$(window).on('resize', function (){
		$wHeight = $(window).height();
		$item.height($wHeight);
		$('.header').height($wHeight);
		$("#search").outerWidth($("#searchbar_div").width() - $("#search_submit").outerWidth() - 10);
	});
	$(window).scroll(onscroll = function () {
		var imageHeight = $("#mainCarousel").height();
		if ($(window).scrollTop() > imageHeight * 0.8) {
			$('.navbar-fixed-top').removeClass("transparent");
		} else if ($(window).scrollTop() < imageHeight * 0.6) {
			$('.navbar-fixed-top').addClass("transparent");
		}
	});
	onscroll();
	$('.carousel').carousel({
		interval: 5000,
		pause: "false"
	});
});
</script>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top transparent">
    <div class="container">
        <div class="navbar-header pull-left">
            <a class="navbar-brand" target="_top" href="/">
              <img src="/images/Tripedia_white.png" alt="tripedia" />
            </a>
            <ul class="nav navbar-nav">
              <li><a href="/">Home</a></li>
              <li><a href="/dest">Destination</a></li>
              <li><a href="/note">Travel Note</a></li>
            </ul>
        </div>
        <ul class="nav navbar-nav pull-right">
    <% if (user) { %>
      <div class="dropdown">
        <button class="btn btn-default dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">
          <span class="glyphicon glyphicon-user"></span>
          <span><%= user.username %></span>
          <span class="caret"></span>
        </button>

        <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
          <li role="presentation"><a role="menuitem" tabindex="-1" href="/profile">My profile</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" href="/profile/post">Post travel note</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" href="#">My friends</a></li>
          <li role="presentation" class="divider"></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Edit Information</a></li>
          <li role="presentation" class="divider"></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" href="/account/logout">Logout</a></li>
        </ul>
      </div>
    <% } else { %>
      <li><a href="/account/signup?callback=<%=encodeURIComponent(url) %>"><span class="glyphicon glyphicon-user"></span>Sign Up</a></li>
      <li><a href="/account/login?callback=<%=encodeURIComponent(url) %>"><span class="glyphicon glyphicon-log-in"></span>Login</a></li>
    <% } %>
    </ul>

  </div>
</nav>

<article class="clearfix">


<div class="header">
    <div id="mainCarousel" class="carousel slide" data-ride="carousel">
		<!-- Wrapper for slides -->
	    <div class="carousel-inner" role="listbox">
	        <div class="item active">
		        <img src="images/homepage/bg_affrica.jpg" alt="Chania">
	        </div>
	        <div class="item" >
		        <img src="images/homepage/bg_paris.jpg" alt="Chania">
	        </div>
	        <div class="item">
		        <img src="images/homepage/bg_montreal.jpg" alt="Flower">
	        </div>
	        <div class="item">
		        <img src="images/homepage/bg_hk.jpg" alt="Flower">
	        </div>
	     </div>

		<!-- Left and right controls -->
	     <a class="left carousel-control" href="#mainCarousel" role="button" data-slide="prev">
		     <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
		     <span class="sr-only">Previous</span>
	     </a>
	     <a class="right carousel-control" href="#mainCarousel" role="button" data-slide="next">
		     <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
		     <span class="sr-only">Next</span>
	     </a>
     </div>
    
    
    <div id="text_in_carousel">
        <p id="product">Tripedia</p>
        <p id="slogan">Everything about trip.</p>
    </div>

    <div id="searchbar_div">
		<input id="search" class="form-control" type="text" name="q" placeholder="Where do you want to go?/Which author do you want to look for?">
		<button id="search_submit" type="button" class="btn btn-default">Search</button>
    </div>

</div>

<p class="explore_the_world_text">Explore The World</p>
<p class="people_travel_text">See where people are traveling, all around the world.</p>
<div id="newyork_div">
    <div id="newyork_city"><a href="#" id="newyork_link">New York</a></div>
    <div id="ave_5th"><a href="#" id="ave_5th_link">5th Avenue</a></div>
</div>
<div id="osaka_div">
    <div id="osaka_castle"><a href="#" id="osaka_castle_link">Osaka Castle</a></div>
    <div id="minami"><a href="#" id="minami_link">Minami</a></div>
    <div id="osaka_city"><a href="#" id="osaka_link">Osaka</a></div>
</div>

<p class="explore_the_world_text">Travel Notes Recommandation</p>
<p class="people_travel_text">See where people have visited and what they recommand</p>
<div id="travel_notes_div">
    <ul style="list-style-type: square">
        <li><a href="#" class="travel_notes_link">travel note 1</a></li>
        <li><a href="#" class="travel_notes_link">travel note 2</a></li>
        <li><a href="#" class="travel_notes_link">travel note 3</a></li>
        <li><a href="#" class="travel_notes_link">travel note 4</a></li>
        <li><a href="#" class="travel_notes_link">travel note 5</a></li>
    </ul>
</div>

<%- include footer %>